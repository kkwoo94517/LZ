using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class UIBottomNavi : MonoBehaviour
{
    private bool isChageUI = false;


    /// <summary>
    /// ?????? ??????????.
    /// </summary>
    public void OnClick_NextTime()
    {
        var player = GameManager.Instance.Player;

        // ???? ???? ????
        if (isChageUI) { return; }
        
        // ?????? ???? ??????
        if (player.DayType == DayType.Dawn &&
            !UIManager.Instance.UIAnswer.OnSelect) { return; }

        // ?????? ???? ????????????

        isChageUI = true;


        // ???? ???? ????
        player.SetNextTime();

        // ????, ??, ???? ???? ???? UI ????
        UIManager.Instance.UIMain.ChangeUI(player.DayType, () =>  // UI?? ???? ?? ???? delegate
        {
            // ????, ???? ???? UI ????
            UIManager.Instance.UITopNavi.SetDateUI(player.DayType, player.Date);

            // ?????????? ?????? ????
            if (player.DayType == DayType.Dawn)
            {
                // ?????? ????????
                UIManager.Instance.UIEventStory.LoadEventStory(() => // ?? ???????? ???? ???? ???? delegate
                {
                    // ?????? ?????? ???? ???? ????????
                    UIManager.Instance.UIAnswer.LoadAnswerItems();
                });
            }
            // ?????? ???????? ?????? ????
            else
            {
                UIManager.Instance.UISlot.LoadSlotItems(6);
            }


            isChageUI = false;
        });
    }
}
